<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Me</title>
    <link rel="stylesheet" href="/index.css" />
    <link rel="stylesheet" href="/CSS/about.css" />
    <link rel="stylesheet" href="/CSS/info_card.css" />
  </head>
  <body>
    <!-- Sidebar placeholder -->
    <div id="sidebar-container"></div>

    <div class="main-content">
      <!-- Transparent Box -->
      <div class="infobox">
        <!-- Divider Line -->
        <hr />

        <!-- Header -->
        <div class="Header-section">
          <h1 class="Header">Work Experience</h1>
        </div>

        <!-- Card Section -->
        <div class="card-section" id="card-section">
          <!-- Info cards will be dynamically loaded here from the json file -->
        </div>

        <!-- Hidden template for the card component -->
        <div id="card-template" style="display: none">
          <div class="background">
            <div class="main-section">
              <!-- <div class="card-image"></div> -->
              <div class="Heading"></div>
              <div class="Position"></div>
              <div class="Description"></div>
              <div class="Expand-Button"></div>
            </div>
          </div>
        </div>

        <!-- Divider Line -->
        <hr />
      </div>
    </div>

    <!-- ------------------------------------------------------------------------------------- -->

    <!-- Script to load the info cards from JSON file -->
    <script>
      // Fetch the JSON file and dynamically create info cards
      fetch("/data/experience_info_cards.json")
        .then((response) => {
          if (!response.ok) {
            throw new Error("Failed to load experience_info_cards.json");
          }
          return response.json();
        })
        .then((data) => {
          const cardSection = document.getElementById("card-section");
          const cardTemplate =
            document.getElementById("card-template").firstElementChild;

          data.forEach((card) => {
            // Clone the card template
            const cardClone = cardTemplate.cloneNode(true);

            // Populate the card with data
            //const cardImage = cardClone.querySelector(".card-image");
            //cardImage.style.backgroundImage = `url(${card.image})`;
            //cardImage.setAttribute("alt", card["alt-text"]);

            cardClone.querySelector(".Heading").textContent = card.heading;
            cardClone.querySelector(".Position").textContent = card.position;
            cardClone.querySelector(".Description").textContent =
              card.description;

            // Optional: Add a "See More" button if needed
            const expandButton = cardClone.querySelector(".Expand-Button");
            expandButton.innerHTML = `<button>See More</button>`;

            // Append the card to the card section
            cardSection.appendChild(cardClone);
          });
        })
        .catch((error) => {
          console.error("Error loading info cards:", error);
        });
    </script>

    <!-- Script to load the sidebar -->
    <script src="/JavaScript/loadSidebar.js"></script>

    <!-- Navigate to Info Card Page -->
    <script>
      // Add an event listener to the button to navigate to another page
      document
        .getElementById("info-card")
        .addEventListener("click", function () {
          window.location.href = "/Pages/about.html"; // Specify the page to navigate to
        });
    </script>

    <!-- Navigate to Introduction About Page -->
    <script>
      // Add an event listener to the button to navigate to another page
      document
        .getElementById("handshake")
        .addEventListener("click", function () {
          window.location.href = "/Pages/introduction.html"; // Specify the page to navigate to
        });
    </script>

    <!-- Navigate to Acaddemic Background About Page -->
    <script>
      // Add an event listener to the button to navigate to another page
      document
        .getElementById("academics")
        .addEventListener("click", function () {
          window.location.href = "/Pages/academics.html"; // Specify the page to navigate to
        });
    </script>

    <!-- Navigate to Technical Skills About Page -->
    <script>
      // Add an event listener to the button to navigate to another page
      document.getElementById("skills").addEventListener("click", function () {
        window.location.href = "/Pages/technical_skills.html"; // Specify the page to navigate to
      });
    </script>

    <!-- Load info card -->
  </body>
</html>
